DROP TABLE Item;
DROP TABLE Person;

CREATE TABLE Person(
                       id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                       name VARCHAR (100) NOT NULL,
                       age INT CHECK (age > 0),
                       email VARCHAR (100) NOT NULL UNIQUE,
                       date_of_birth DATE,
                       created_at TIMESTAMP
);

CREATE TABLE Item(
                     id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                     person_id INT REFERENCES Person(id) ON DELETE SET NULL,
                     item_name VARCHAR (100) NOT NULL
);

INSERT INTO Person(name, age, email) VALUES ('Tom', 25, 'tom@mail.com');
INSERT INTO Person(name, age, email) VALUES ('Bob', 31, 'bob1@mail.com');
INSERT INTO Person(name, age, email) VALUES ('Bob', 20, 'bob3@mail.com');
INSERT INTO Person(name, age, email) VALUES ('Katy', 14, 'katy@mail.com');


INSERT INTO Item(person_id, item_name) VALUES (1, 'Airpods');
INSERT INTO Item(person_id, item_name) VALUES (3, 'Playstation');
INSERT INTO Item(person_id, item_name) VALUES (3, 'TV');
INSERT INTO Item(person_id, item_name) VALUES (1, 'Book');
INSERT INTO Item(person_id, item_name) VALUES (3, 'Kindle');
INSERT INTO Item(person_id, item_name) VALUES (2, 'Iphone');


